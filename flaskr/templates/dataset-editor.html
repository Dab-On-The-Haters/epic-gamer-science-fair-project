{% import 'base.html.j2' as base %}
<!DOCTYPE html>
<html lang="en">
    <head>
        {{ base.head('Edit your dataset', important=True) }}
    </head>
    <body class="w3-text-white">
        {{ base.navbar(user, c='teach') }}
        <div class="w3-container">
            <div class="w3-container w3-xlarge w3-center">
                <b>Data cleaning for {{ datasetName|escape }}</b>
            </div>
        </div>

        <div class="w3-container w3-card w3-margin w3-2019-galaxy-blue">
            <form target="_self" method="POST">
                {{ form.csrf_token }}
                    
                <div class="w3-margin-top">
                    {% if form.columnSelections %}
                    <p class="w3-large"><b>Select columns</b></p>
                        {% for selection in form.columnSelections %}
                            {{ selection.select.label }}: {{ selection.select}}
                            <ul class="w3-ul w3-text-red">
                                {% for error in selection.errors %}
                                    <li>{{ error|escape }}</li>
                                {% endfor %}
                            </ul>
                            <br>
                        {% endfor %}
                    {% endif %}
                </div>
                <div class="w3-margin w3-container">
                    <div class="w3-margin w3-left">{{ form.datasetRefresh }}</div>
                    <div class="w3-margin w3-right">
                        <button type="submit" class="w3-bruh-blue w3-button w3-right w3-margin w3-hover-indigo">Update this dataset</button>
                    </div>
                </div>
                <b>{{ form.finalText.label }}</b>
                <div class="w3-margin-top">
                    {{ form.finalText }}
                </div>
                <ul class="w3-ul w3-text-red">
                    {% for error in form.finalText.errors %}
                        <li>{{ error|escape }}</li>
                    {% endfor %}
                </ul>
            </form>
        </div>
    </body>
</html>