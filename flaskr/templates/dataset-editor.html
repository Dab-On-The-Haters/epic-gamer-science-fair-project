{% import 'base.html.j2' as base %}
<!DOCTYPE html>
<html lang="en">
    <head>
        {{ base.head('Edit your dataset', important=True) }}
    </head>
    <body class="w3-text-white">
        {{ base.navbar(user, c='teach') }}
        {{ base.heading('Data cleaning for '~datasetName|escape) }}

        <div class="w3-container w3-margin">
            <form target="_self" method="POST">
                {{ form.csrf_token }}
                    
                <div class="w3-margin-top">
                    {% if form.columnSelections %}
                    <p class="w3-large"><b>Select columns</b></p>
                        {% for selection in form.columnSelections %}
                            {{ selection.select.label }}: {{ selection.select}}
                            {{ base.formErrors(selection) }}
                            <br>
                        {% endfor %}
                    {% endif %}
                </div>
                <div class="w3-margin w3-container">
                    <div class="w3-margin w3-left">{{ form.datasetRefresh }}</div>
                    <div class="w3-margin w3-right">
                        <button type="submit" class="w3-bruh-blue w3-button w3-right w3-margin w3-hover-indigo">Update this dataset</button>
                    </div>
                </div>
                <b>{{ form.finalText.label }}</b>
                <div class="w3-margin-top">
                    {{ form.finalText }}
                </div>
                {{ base.formErrors(form.finalText) }}
            </form>
        </div>
    </body>
</html>